<!DOCTYPE html>
<html lang="en" translate="no">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="A Calendar Application build with HTML, JavaScript, CSS, PHP, jQuery, Apache2, MySQL and hosted on a virtual private server">
  <title>Simon Brebeck | Self-taught Full-Stack Developer</title>
  <link href="/_assets/fonts/material_icons.woff2" rel="preload" as="font" type="font/woff2" crossorigin="anonymous">
  <link href="/_assets/fonts/signika.woff2" rel="preload"  as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="stylesheet" href="/_lib/css/styles.css">
  <link rel="icon" type="image/png" href="/_assets/images/mainframe/favicon.webp">
  <link href="/_lib/css/material_icons.css" rel="stylesheet">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
  <script src="/_lib/_modules/jQuery/jquery.min.js"></script>
  <script src="/_lib/js/app.js" defer></script>
</head>
<body>
<header>
  <div id="navigation-burger">
    <i class="material-icons navigation-burger--open">menu</i>
    <i class="material-icons navigation-burger--close">close</i>
  </div>
  <nav id="navigation-menu">
    <a href="/"><img src="/_assets/images/mainframe/favicon.webp" width="48" height="48" alt="Logo"></a>
    <a href="/">Home</a>
    <a href="/about/">About</a>
    <a href="/contact">Contact</a>
  </nav>
  <nav id="socials-menu">

    <a
            href="/_assets/downloads/CV_Simon_Brebeck.pdf"
            target="_blank"
            rel="noreferrer noopener"
            class="button button--icon button--outline dark-gray">
      <i class="material-icons">download</i>
      Résumé
    </a>    <a href="https://www.linkedin.com/in/simonbrebeck/" target="_blank" rel="noreferrer noopener"><img src="/_assets/images/brands/linkedin.webp" width="64" height="64" alt="LinkedIn"></a>
    <a href="https://github.com/SpyZzey" target="_blank" rel="noreferrer noopener"><img src="/_assets/images/brands/github.webp" width="64" height="64" alt="GitHub"></a>
  </nav>
</header>
<div id="navigation-drawer">
  <div class="navigation-drawer--menu">
    <a href="/">Home</a>
    <a href="/about/">About</a>

    <a href="/contact">Contact</a>
  </div>
</div>
<main class="page-project">
  <section class="page-project--info">
    <div class="page-project--title">
      <h1>Dynamic Storage System</h1>
      <span class="right project-dates">Okt. 2022 - Nov. 2022</span>
    </div>
    <div class="page-project--description">
      <h5>Java, Spring Boot, MySQL</h5>
      <div>
        <a href="https://github.com/SpyZzey/Storage-System--UserAccessLayer" target="_blank">Github User Access</a>
        -
        <a href="https://github.com/SpyZzey/Storage-System--FileAccessLayer" target="_blank">Github File Access</a>
      </div>
    </div>
  </section>
  <hr>
  <section class="page-project--content">
    <div class="side-by-side">
      <div class="centered-page">
        <h3>Dynamic Storage System</h3>
        <p class="justified-text">
          The Dynamic Storage System is a scalable storage service REST API designed with Spring Boot
          to efficiently and securely store and retrieve files.
        </p>
        <p class="justified-text">
          It is built on two layers: the user access layer and the file access layer.
          The user access layer is responsible for handling incoming user requests, managing access to
          the database and performing file encryption. It communicates with the file access layer, which acts
          as the actual storage service. Together, these two layers provide a dynamic storage system capable
          of securely store files on distributed systems.
        </p>
      </div>
      <div class="centered-page">
        <h3>Features</h3>
        <ul class="feature-list">
          <li>
            <div>Buckets, Directories and Files</div>
            <div>Support for common object storage structures used by AWS S3 or Azure Blob.</div>
          </li>
          <li>
            <div>Scalable Service</div>
            <div>Add new servers to increase storage and request capacities.</div>
          </li>
          <li>
            <div>File Encryption</div>
            <div>Files are encrypted with a user specific secret key.</div>
          </li>
          <li>
            <div>Token based authentication</div>
            <div>A Json Web Token is used to authenticate users.</div>
          </li>
          <li>
            <div>Access Control (WIP)</div>
            <div>Grant certain access permissions to specific users and buckets.</div>
          </li>
          <li>
            <div>Redundancy (WIP)</div>
            <div>The files can be stored redundantly to improve reliability.</div>
          </li>
        </ul>
      </div>
    </div>
    <div class="centered-page">
      <h3>API Structure</h3>
      <div class="image">
        <img src="/_assets/images/projects/storage_rest_api_endpoints.svg" alt="Storage Service REST API Endpoints">
      </div>
    </div>

    <div class="centered-page">
      <h4>Authentication</h4>
      <div class="justified-text">
        Except for user creation, you have to provide an authentication bearer token
        in every request inside of the Authorization header. The user-specific token is generated during user creation
        and should be kept secret (Refresh tokens are not implemented yet).
      </div>
    </div>

    <!-- User Creation -->
    <div class="centered-text">
      <h4>User Creation</h4>
    </div>
    <div class="side-by-side">
      <div>
        <div class="rest-api request">
          <div>
            <span>/api/users/</span>
            <span class="request-method--post">POST</span>
            <span class="request-method--put">PUT</span>
          </div>
          <pre>
          <code class="language-json">
{
  "firstname": "John",
  "lastname": "Doe",
  "email": "john@doe.com"
}
          </code>
        </pre>
        </div>
        <div class="justified-text">
          When creating a new user, please provide an email address, the user's first
          and last name inside a json object. When updating a user using the PUT-Method, please provide the
          authentication token inside the Authorization header.
        </div>
      </div>
      <div>
        <div class="rest-api response">
          <div>
            <span>Response</span>
            <span class="status-code--200">200</span>
          </div>
          <pre>
          <code class="language-json">
{
  "status": "ok",
  "userId": 1,
  "token": "SECRET TOKEN"
}
          </code>
        </pre>
        </div>
      </div>
    </div>

    <!-- User Fetching -->
    <div class="centered-text">
      <h4>User Fetching</h4>
    </div>
    <div class="side-by-side">
      <div>
        <div class="rest-api request">
          <div>
            <span>/api/users/{user_id}</span>
            <span class="request-method--get">GET</span>
          </div>
        </div>
        <div class="justified-text">
          Currently, only the user that sends the request can fetch his own data (who am i). When fetching a user, please provide
          the user id inside the url and the authentication token inside the Authorization header.
        </div>
      </div>
      <div>
        <div class="rest-api response">
          <div>
            <span>Response</span>
            <span class="status-code--200">200</span>
          </div>
          <pre>
          <code class="language-json">
{
  "id": {user_id},
  "firstname": "John",
  "lastname": "Doe",
  "email": "john@doe.com"
}
          </code>
        </pre>
        </div>
      </div>
    </div>

    <!-- User Deletion -->
    <div class="centered-text">
      <h4>User Deletion</h4>
    </div>
    <div class="side-by-side">
      <div>
        <div class="rest-api request">
          <div>
            <span>/api/users/{user_id}</span>
            <span class="request-method--delete">DELETE</span>
          </div>
        </div>
        <div class="justified-text">
          When deleting a user, please provide the user id inside the url and the authentication token inside the
          Authorization header.
        </div>
      </div>
      <div>
        <div class="rest-api response">
        <div>
          <span>Response</span>
          <span class="status-code--200">200</span>
        </div>
        <pre>
          <code class="language-json">
{
  "status": "ok",
  "message": "User deleted"
}
          </code>
        </pre>
      </div>
      </div>
    </div>

    <!-- Bucket Creation -->
    <div class="centered-text">
      <h4>Bucket Creation</h4>
    </div>
    <div class="side-by-side">
      <div>
        <div class="rest-api request">
          <div>
            <span>/api/buckets/?bucket=NAME</span>
            <span class="request-method--post">POST</span>
          </div>
        </div>
        <div class="justified-text">
            When creating a new bucket, please provide the bucket name inside the `bucket` query parameter and the authentication token
            inside the Authorization header.
        </div>
      </div>
      <div>
        <div class="rest-api response">
          <div>
            <span>Response</span>
            <span class="status-code--200">200</span>
          </div>
          <pre>
          <code class="language-json">
{
  "status": "ok",
  "message": "Bucket successfully created."
}
          </code>
        </pre>
        </div>
      </div>
    </div>

    <!-- Bucket Listing -->
    <div class="centered-text">
      <h4>Bucket Listing</h4>
    </div>
    <div class="side-by-side">
      <div>
        <div class="rest-api request">
          <div>
            <span>/api/buckets/</span>
            <span class="request-method--get">GET</span>
          </div>
        </div>
        <div class="justified-text">
          List all buckets that belong to the user that sends the request.
          When listing all buckets, please provide the authentication token inside the Authorization header.
        </div>
      </div>
      <div>
        <div class="rest-api response">
          <div>
            <span>Response</span>
            <span class="status-code--200">200</span>
          </div>
          <pre>
          <code class="language-json">
{
  "status": "ok",
  "message": "Buckets successfully loaded.",
  "data": [
    {
      "id": 1,
      "name": "BUCKET_NAME",
      "folders": 0,
      "files": 0,
      "users": 0
    }
  ],
  "count": 1,
  "total": 1,
  "page": 0,
  "pages": 1
}
          </code>
        </pre>
        </div>
      </div>
    </div>

    <!-- Bucket Deletion -->
    <div class="centered-text">
      <h4>Bucket Deletion</h4>
    </div>
    <div class="side-by-side">
      <div>
        <div class="rest-api request">
          <div>
            <span>/api/buckets/{bucket_name}</span>
            <span class="request-method--delete">DELETE</span>
          </div>
        </div>
        <div class="justified-text">
          Delete a bucket that belongs to the user that sends the request.
          Please provide the bucket name inside the url and the authentication token inside the
        </div>
      </div>
      <div>
        <div class="rest-api response">
          <div>
            <span>Response</span>
            <span class="status-code--200">200</span>
          </div>
          <pre>
          <code class="language-json">
{
  "status": "ok",
  "message": "Bucket successfully deleted."
}
          </code>
        </pre>
        </div>
      </div>
    </div>

    <!-- Bucket Info -->
    <div class="centered-text">
      <h4>Bucket Fetching</h4>
    </div>
    <div class="side-by-side">
      <div>
        <div class="rest-api request">
          <div>
            <span>/api/buckets/{bucket_name}</span>
            <span class="request-method--get">GET</span>
          </div>
        </div>
        <div class="justified-text">
          Show information about the bucket that is requested.
          Please provide the bucket name inside the url and the authentication token inside the Authorization header.
        </div>
      </div>
      <div>
        <div class="rest-api response">
          <div>
            <span>Response</span>
            <span class="status-code--200">200</span>
          </div>
          <pre>
          <code class="language-json">
{
  "status": "ok",
  "message": "Bucket info successfully loaded.",
  "data": {
    "id": 4,
    "name": "BUCKET_NAME",
    "folders": 1,
    "files": 1,
    "users": 0
  }
}
          </code>
        </pre>
        </div>
      </div>
    </div>

    <!-- Folder Creation -->
    <div class="centered-text">
      <h4>Folder Creation</h4>
    </div>
    <div class="side-by-side">
      <div>
        <div class="rest-api request">
          <div>
            <span>/api/folders/{bucket}/{parents}?folder=NAME</span>
            <span class="request-method--get">GET</span>
          </div>
          <pre>
            <code class="language-text hljs">
Example 1: /api/folders/my_bucket/parent1%2Fparent2?folder=my_folder
Example 2: /api/folders/my_bucket?folder=my_folder
            </code>
          </pre>
        </div>
        <div class="justified-text">
          Create a new folder inside a bucket or another folder.
          Please note that `parents` is url encoded and that sub-folders in `parents` are separated with %2F
          (encoding of /). The PathVariable `parents` is optional. Not providing it will create the folder inside the
          buckets root folder. Please provide the bucket name, any parents if given, and the folder name
          inside the url and the authentication token inside the Authorization header.
        </div>
      </div>
      <div>
        <div class="rest-api response">
          <div>
            <span>Response</span>
            <span class="status-code--200">200</span>
          </div>
          <pre>
          <code class="language-json">
{
  "status": "ok",
  "message": "Bucket info successfully loaded.",
  "data": {
    "id": 4,
    "name": "BUCKET_NAME",
    "folders": 1,
    "files": 1,
    "users": 0
  }
}
          </code>
        </pre>
        </div>
      </div>
    </div>

    <!-- Folder Listing -->
    <div class="centered-text">
      <h4>Folder Listing</h4>
    </div>
    <div class="side-by-side">
      <div>
        <div class="rest-api request">
          <div>
            <span>/api/folders/{bucket}/{parents}/</span>
            <span class="request-method--get">GET</span>
          </div>
        </div>
        <div class="justified-text">
          List all folders inside a bucket or another folder.
          Please note that `parents` is url encoded and that sub-folders in `parents` are separated with %2F (encoding of /).
          The PathVariable `parents` is optional. Not providing it will list the folders inside the buckets root folder.
          Please provide the bucket name, any parents if given inside the url and the authentication.
        </div>
      </div>
      <div>
        <div class="rest-api response">
          <div>
            <span>Response</span>
            <span class="status-code--200">200</span>
          </div>
          <pre>
          <code class="language-json">
{
  "status": "ok",
  "message": "Storage items successfully loaded.",
  "data": [
    {
      "id": 2,
      "name": "FOLDER_NAME",
      "path": "/BUCKET_NAME/FOLDER_PATH",
      "folders": 0,
      "files": 0
    }
  ],
  "count": 1,
  "total": 1,
  "page": 0,
  "pages": 1
}
          </code>
        </pre>
        </div>
      </div>
    </div>

    <!-- Folder Deletion -->
    <div class="centered-text">
      <h4>Folder Deletion (Not implemented yet)</h4>
    </div>
    <div class="side-by-side">
      <div>
        <div class="rest-api request">
          <div>
            <span>/api/folders/{bucket}/{folder_path}</span>
            <span class="request-method--delete">DELETE</span>
          </div>
        </div>
        <div class="justified-text">
          (Not implemented yet) <br>
          Delete a folder inside a bucket or another folder.
          Please note that `folder_path` is url encoded and that sub-folders in `folder_path` are separated
          with %2F (encoding of /). Please provide the bucket name, the folder path inside the url and the
          authentication token inside the Authorization header.
        </div>
      </div>
      <div>
        <div class="rest-api response">
          <div>
            <span>Response</span>
            <span class="status-code--200">200</span>
          </div>
          <pre>
          <code class="language-json">
{
  "status": "ok",
  "message": "Folder successfully deleted.",
}
          </code>
        </pre>
        </div>
      </div>
    </div>

    <!-- File Upload -->
    <div class="centered-text">
      <h4>File Upload</h4>
    </div>
    <div class="side-by-side">
      <div>
        <div class="rest-api request">
          <div>
            <span>/api/files/{bucket}/{folder_path}/</span>
            <span class="request-method--post">POST</span>
          </div>
        </div>
        <div class="justified-text">
          Upload a file inside a bucket or a folder.
          Please note that `folder_path` is url encoded and that sub-folders in `folder_path` are separated
          with %2F (encoding of /). Please provide the bucket name, the folder path inside the url and the
          authentication token inside the Authorization header. The file must be provided as a multipart/form-data
          request.
        </div>
      </div>
      <div>
        <div class="rest-api response">
          <div>
            <span>Response</span>
            <span class="status-code--200">200</span>
          </div>
          <pre>
          <code class="language-json">
{
  "path": "/BUCKET_NAME/FOLDER_PATH/FILE_NAME",
  "status": "ok",
  "message": "File stored."
}
          </code>
        </pre>
        </div>
      </div>
    </div>

    <!-- File Listing -->
    <div class="centered-text">
      <h4>File Listing</h4>
    </div>
    <div class="side-by-side">
      <div>
        <div class="rest-api request">
          <div>
            <span>/api/files/{bucket}/{folder_path}/</span>
            <span class="request-method--get">GET</span>
          </div>
        </div>
        <div class="justified-text">
          List all files inside a bucket or a folder.
          Please note that `folder_path` is url encoded and that sub-folders in `folder_path` are separated
          with %2F (encoding of /). Please provide the bucket name, the folder path inside the url and the
          authentication token inside the Authorization header.
        </div>
      </div>
      <div>
        <div class="rest-api response">
          <div>
            <span>Response</span>
            <span class="status-code--200">200</span>
          </div>
          <pre>
          <code class="language-json">
{
  "status": "ok",
  "message": "Storage items successfully loaded.",
  "data": [
    {
      "id": 1,
      "name": "FILE_NAME",
      "path": "/BUCKET_NAME/FOLDER_PATH/FILE_NAME",
      "file_type": "FILE_TYPE",
      "size": FILE_SIZE
    },
  ],
  "count": 1,
  "total": 1,
  "page": 0,
  "pages": 1
}
          </code>
        </pre>
        </div>
      </div>
    </div>

    <!-- File Download -->
    <div class="centered-text">
      <h4>File Download</h4>
    </div>
    <div class="side-by-side">
      <div>
        <div class="rest-api request">
          <div>
            <span>/api/files/download/{bucket}/{file_path}/</span>
            <span class="request-method--get">GET</span>
          </div>
        </div>
        <div class="justified-text">
          Download a file inside a bucket or a folder.
          Please note that `file_path` is url encoded and that sub-folders in `file_path` are separated
          with %2F (encoding of /). Please provide the bucket name, the file path inside the url and the
          authentication token inside the Authorization header.
        </div>
      </div>
      <div>
        <div class="rest-api response">
          <div>
            <span>Response</span>
            <span class="status-code--200">200</span>
          </div>
          <pre>
          <code class="language-markup hljs">
< File >
          </code>
        </pre>
        </div>
      </div>
    </div>


    <!-- File Deletion -->
    <div class="centered-text">
      <h4>File Download (Not implemented yet)</h4>
    </div>
    <div class="side-by-side">
      <div>
        <div class="rest-api request">
          <div>
            <span>/api/files/{bucket}/{file_path}/</span>
            <span class="request-method--delete">DELETE</span>
          </div>
        </div>
        <div class="justified-text">
          (Not implemented yet) <br>
          Delete a file inside a bucket or a folder.
          Please note that `file_path` is url encoded and that sub-folders in `file_path` are separated
          with %2F (encoding of /). Please provide the bucket name, the file path inside the url and the
          authentication token inside the Authorization header.
        </div>
      </div>
      <div>
        <div class="rest-api response">
          <div>
            <span>Response</span>
            <span class="status-code--200">200</span>
          </div>
          <pre>
          <code class="language-json">
{
  "status": "ok",
  "message": "File successfully deleted.",
}
          </code>
        </pre>
        </div>
      </div>
    </div>

    <hr class="center">
    <div class="centered-section">
      <img class="image-fit" src="/_assets/images/projects/storage_endpoints_overview.webp" height="500" width="1000" alt="Calendar">
    </div>
  </section>
</main>
<footer>
  <div class="footer-text">
    <p class="copyright">
      &copy; 2021-2022 Simon Brebeck
    </p>
  </div>
  <a href="/impress.html">Impress</a>
</footer>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>


</body>
</html>